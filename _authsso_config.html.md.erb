1. Select **Authentication and Enterprise SSO**.

    <%= image_tag("er17-config-authsso-uaa.png") %>

1. To authenticate user sign-ons, your deployment can use one of three types of user database: the UAA server's internal user store, an external SAML identity provider, and an external LDAP server.

    1. To use the internal UAA, select the **Internal** option and follow the instructions in [Configuring UAA Password Policy](../opsguide/pw-policy.html) to configure your password policy.

    1. To connect to an external identity provider via SAML, scroll down to select the **SAML Identity Provider** option and follow the instructions in the [Configuring PCF for SAML](../opsguide/auth-sso.html#configure-saml) section of the Configuring Authentication and Enterprise SSO for Elastic Runtime topic.

    1. To connect to an external LDAP server, scroll down to select the **LDAP Server** option and follow the instructions in the [Configuring LDAP](../opsguide/auth-sso.html#configure-ldap) section of the Configuring Authentication and Enterprise SSO for Elastic Runtime topic.

1. (Optional) In the **Apps Manager Access Token Lifetime**, **Apps Manager Refresh Token Lifetime**, **Cloud Foundry CLI Access Token Lifetime**, **Cloud Foundry CLI Refresh Token Lifetime** fields, you can change the lifetimes of tokens granted for Apps Manager and cf CLI login access and refresh. Most deployments use the defaults. 

1. (Optional) Customize the text prompts used for username and password from the cf CLI and Apps Manager login popup.

1. (Optional) The **Proxy IPs Regular Expression** field contains a pipe delimited set of regular expressions that UAA considers to be reverse proxy IP addresses. UAA respects the `x-forwarded-for` and `x-forwarded-proto` headers coming from IP addresses that match to these regular expressions. To configure UAA to respond properly to Router or HAProxy requests coming from public IP address(es), append a regular expression or regular expressions to match the public IP address(es).

    <%= image_tag("authsso-uaa-bottom.png") %>
